(this.webpackJsonpsearch_form=this.webpackJsonpsearch_form||[]).push([[0],{13:function(e,t,n){},16:function(e,t,n){},17:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n.n(r),s=n(8),a=n.n(s),o=(n(13),n(7)),u=n(3),i=n.n(u),d=n(5),l=n(4),f=n(2),m=n.n(f),h=n.p+"static/media/loader.336a9381.svg",j=n(0);var p=function(e){return Object(j.jsxs)("div",{onClick:e.onUserClick,className:"".concat(m.a.user).concat(e.selected?" "+m.a.selected:""),onMouseOver:e.onUserMouseOver,children:[Object(j.jsx)("img",{src:e.photo,className:m.a.user_photo}),Object(j.jsxs)("div",{className:m.a.user_name,children:[Object(j.jsx)("div",{children:e.name}),Object(j.jsxs)("small",{children:["@",e.username]})]})]})};var v=function(e,t){Object(r.useEffect)((function(){var n=function(n){var r=null===e||void 0===e?void 0:e.current;r&&!r.contains(n.target)&&t(n)};return document.addEventListener("mousedown",n),document.addEventListener("touchstart",n),function(){document.removeEventListener("mousedown",n),document.removeEventListener("touchstart",n)}}),[e,t])};var _=function(){var e=Object(r.useState)(!1),t=Object(l.a)(e,2),n=t[0],c=t[1],s=Object(r.useState)(""),a=Object(l.a)(s,2),u=a[0],f=a[1],_=Object(r.useState)([]),b=Object(l.a)(_,2),O=b[0],x=b[1],w=Object(r.useState)(-1),g=Object(l.a)(w,2),k=g[0],y=g[1],F=Object(r.useState)(!1),C=Object(l.a)(F,2),L=C[0],E=C[1],I=Object(r.useRef)(null);function N(e){return S.apply(this,arguments)}function S(){return(S=Object(d.a)(i.a.mark((function e(t){var n,r,s,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),e.next=3,fetch("https://jsonplaceholder.typicode.com/users");case 3:return n=e.sent,e.next=6,n.json();case 6:return r=e.sent.map((function(e){return{id:e.id,name:e.name,username:e.username}})),e.next=9,fetch("https://jsonplaceholder.typicode.com/photos");case 9:return n=e.sent,e.next=12,n.json();case 12:for(s=e.sent,a=0;a<r.length;a++)r[a].photo=s[a].thumbnailUrl;t&&(r=r.filter((function(e){return-1!==e.username.toLowerCase().indexOf(t.toLowerCase())||-1!==e.name.toLowerCase().indexOf(t.toLowerCase())}))),x(r),c(!1),y(-1);case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(r.useRef)(null),v(I,(function(){console.log("shit"),E(!1)})),Object(j.jsxs)("div",{ref:I,className:m.a.search_form,onKeyDown:function(e){var t;switch(e.key){case"ArrowDown":return t=O.findIndex((function(e){return e.id===k})),void y(O[(t+1)%O.length].id);case"ArrowUp":var n=(t=O.findIndex((function(e){return e.id===k})))>0?t-1:O.length-1;return void y(O[n].id);case"Enter":if(-1===(t=O.findIndex((function(e){return e.id===k}))))return;var r=O[t];return f(r.name),void E(!1);default:return}},children:[Object(j.jsx)("input",{type:"text",placeholder:"Search",value:u,onChange:function(){var e=Object(d.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.target.value!==u){e.next=2;break}return e.abrupt("return");case 2:return f(t.target.value),E(!0),e.next=6,N(t.target.value);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),onFocus:function(){var e=Object(d.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N(t.target.value);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),onClick:function(){E(!0)}}),L?Object(j.jsx)("div",{className:m.a.users_list,children:n?Object(j.jsx)("img",{src:h,className:m.a.loader}):O.map((function(e){return Object(r.createElement)(p,Object(o.a)(Object(o.a)({},e),{},{key:e.id,selected:e.id===k,onUserClick:function(){console.log("shit"),f(e.name),E(!1)},onUserMouseOver:function(){y(e.id)}}))}))}):""]})};n(16);var b=function(){return Object(j.jsx)("div",{className:"App",children:Object(j.jsx)("div",{className:"form_container",children:Object(j.jsx)(_,{})})})},O=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,18)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,s=t.getLCP,a=t.getTTFB;n(e),r(e),c(e),s(e),a(e)}))};a.a.render(Object(j.jsx)(c.a.StrictMode,{children:Object(j.jsx)(b,{})}),document.getElementById("root")),O()},2:function(e,t,n){e.exports={search_form:"Form_search_form__2kI5K",users_list:"Form_users_list__Py16I",loader:"Form_loader__wMAth",spin:"Form_spin__269cw",user:"Form_user__3hyIf",selected:"Form_selected__3M9w2",user_photo:"Form_user_photo__3_gwh",user_name:"Form_user_name__3ziD8"}}},[[17,1,2]]]);
//# sourceMappingURL=main.bbe9e9d3.chunk.js.map